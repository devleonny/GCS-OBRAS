<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Criar Orçamento</title>

    <link rel="stylesheet" type="text/css" href="gcsobras.css">
    <link rel="stylesheet" type="text/css" href="checkbox.css">
    <link rel="stylesheet" href="adicionar.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

</head>

<body>

    <div id="content" class="cont">

        <div class="top" id="menu_inferior">
            <div style="display: none; justify-content: center; align-items: center;" id="atualizando">
                <img src="gifs/loading.gif" style="width: 5vw;">
                <label class="novo_titulo" style="font-size: 1.5em;">Atualizando...</label>
            </div>
            <a href="#content">Topo</a>
            <a href="#serviço">Serviço</a>
            <a href="#venda">Venda</a>
            <a href="#campo-pesquisa">Pesquisar</a>
            <div style="display: flex; gap: 10px; justify-content: center; align-items: center;">
                <label style="color: white;">Calculadora ICMS</label>
                <img src="imagens/calculadora.png" style="width: 50px; cursor: pointer;" onclick="exibir_calculadora()">
            </div>
        </div>

        <div id="tabela_dados_cliente">

            <span class="close" onclick="toggleTabela()">&times;</span>

            <div
                style="display: flex; justify-content: space-between; align-items: center; gap: 10px; margin-top: 5vh;">
                <div style="display: flex; flex-direction: column; gap: 10px; align-items: left; margin: 5px;">
                    <label class="novo_titulo">Dados do Cliente</label>
                    <div id="acompanhamento_dados_clientes"
                        style="display: flex; align-items: center; justify-content: left; gap: 10px; color: white;">
                        <img src="gifs/alerta.gif" style="width: 30px;">
                        <label style="text-decoration: underline; cursor: pointer;"
                            onclick="recuperar_dados_clientes()">Clique aqui para sincronizar com o Omie os dados de
                            Clientes...</label>
                    </div>
                </div>

                <div onclick="limpar_campos()"
                    style="display: flex; justify-content: center; align-items: center; gap: 10px; color: white; cursor: pointer;">
                    <img src="imagens/limpar.png">
                    <label style="cursor: pointer;">Limpar Campos</label>
                </div>
            </div>

            <div
                style="display: flex; flex-direction: column; gap: 5px; justify-content: center; align-items: start; background-color: white; border-radius: 3px; padding: 30px; margin: 5px;">

                <div class="linha">
                    <label>nº do Chamado</label>
                    <div style="display: flex; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; justify-content: left;">
                            <input id="chamado_off" style="height: 35px; width: 35px; cursor: pointer;" type="checkbox"
                                onchange="salvar_preenchido()">
                            <label>Sem Chamado</label>
                        </div>
                        <input type="text" id="contrato" placeholder="nº do Chamado" onchange="salvar_preenchido()">
                    </div>
                </div>

                <div class="linha">
                    <label>CNPJ</label>
                    <input type="text" id="cnpj" placeholder="CNPJ" oninput="preencher('cnpj')">
                </div>
                <div class="linha">
                    <label>Cliente</label>
                    <div class="autocomplete-container">
                        <textarea style="width: 100%;" type="text" class="autocomplete-input" id="cliente_selecionado"
                            placeholder="Escreva o nome do Cliente... "></textarea>
                        <div class="autocomplete-list" id="suggestions"></div>
                    </div>
                </div>
                <div class="linha">
                    <label>CEP</label>
                    <label id="cep">Preencha o CNPJ ou Nome do Cliente</label>
                </div>
                <div class="linha">
                    <label>Endereço</label>
                    <label id="bairro">Preencha o CNPJ ou Nome do Cliente</label>
                </div>
                <div class="linha">
                    <label>Cidade</label>
                    <label id="cidade">Preencha o CNPJ ou Nome do Cliente</label>
                </div>
                <div class="linha">
                    <label>Estado</label>
                    <label id="estado">Preencha o CNPJ ou Nome do Cliente</label>
                </div>
                <div class="linha">
                    <label>Tipo de Frete</label>
                    <select id="tipo_de_frete">
                        <option>--</option>
                        <option>CIF</option>
                        <option>FOB</option>
                    </select>
                </div>
                <div class="linha">
                    <label>Transportadora</label>
                    <input type="text" id="transportadora" placeholder="Transportadora">
                </div>
                <div class="linha">
                    <label>Considerações</label>
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <textarea id="consideracoes" rows="5" style="height: 59px; width: 100%;"
                            placeholder="Escopo do orçamento..."></textarea>

                        <div
                            style="display: flex; flex-direction: column; align-items: start; justify-content: center;">
                            <div class="contorno_botoes" style="background-color: #222;">
                                <img src="imagens/anexo2.png" style="width: 15px;">
                                <label style="width: 100%;" for="adicionar_levantamento">Anexar levantamento
                                    <input type="file" id="adicionar_levantamento" style="display: none;"
                                        onchange="salvar_levantamento()">
                                </label>
                            </div>
                            <div id="levantamentos"></div>
                        </div>
                    </div>
                </div>
                <div class="linha">
                    <label>Condições de Pagamento</label>
                    <select id="condicoes"></select>
                </div>
                <br>
                <div class="linha">
                    <label>Garantia</label>
                    <input id="garantia" placeholder="1 Ano"></input>
                </div>

            </div>

            <label class="novo_titulo">Dados do Analista</label>
            <table class="tabela_DD">
                <tr>
                    <th>Analista</th>
                    <td id="analista"></td>
                </tr>

                <tr>
                    <td>E-mail</td>
                    <td id="email_analista"></td>
                </tr>

                <tr>
                    <td>Telefone</td>
                    <td id="telefone_analista"></td>
                </tr>
            </table>
            <label class="novo_titulo">Dados do Vendedor</label>
            <table class="tabela_DD">
                <tr>
                    <th>Vendedor</th>
                    <td><select style="text-align: center; width: 100%;" id="vendedor">
                        </select></td>
                </tr>
                <tr>
                    <td>E-mail</td>
                    <td id="email_vendedor"></td>
                </tr>
                <tr>
                    <td>Telefone</td>
                    <td id="telefone_vendedor"></td>
                </tr>
            </table>

            <div
                style="width: 100%; display: flex; gap: 10px; align-items: end; justify-content: right; margin-top: 5vh; color: white;">
                <label><strong>Data de criação</strong> ou <strong>Alteração</strong></label>
                <label id="data"></label>
            </div>
        </div>


        <div id="orcamento_padrao">

            <div class="titulo_especial">

                <div id="menu_superior"
                    style="position: relative; display: flex; justify-content: space-between; align-items: center; border-radius: 3px; background-color: #222222bc; width: 100%; padding: 20px;">

                    <div
                        style="position: relative; display: flex; justify-content: center; align-items: center; border-radius: 3px;">
                        <img src="imagens/BG.png" style="height: 200px;">

                    </div>

                    <div
                        style="display: flex; flex-direction: column; justify-content: space-evenly; align-items: left; gap: 20px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; border-radius: 3px; background-color: #222222bc;">
                            <button onclick="toggleTabela()" style="background-color: rgb(179, 116, 0);">
                                Dados Cliente</button>
                            <button style="background-color: green;" onclick="enviar_dados()">Salvar
                                Orçamento</button>
                            <button style="background-color: #B12425;" onclick="apagar_orçamento()">
                                Apagar Orçamento</button>

                        </div>

                        <div
                            style="color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; border-radius: 3px; padding: 5px;">
                            <label style="font-size: 1em;">Tabela de preço</label>
                            <select
                                style="color: white; background-color: #222222bc; border: none; margin-left: 2vw; padding: 5px; width: max-content;"
                                id="lpu">
                                <option>LPU CARREFOUR</option>
                            </select>
                        </div>
                    </div>

                    <div onclick="modalidade_livre_de_orcamento()"
                        style="position: absolute; right: 10px; top: 3px; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; border-radius: 3px; padding: 5px;">
                        <img src="gifs/alerta.gif" style="width: 25px; cursor: pointer;">
                        <label style="cursor: pointer;">Orçamento em modalidade livre?</label>
                    </div>

                    <div
                        style="display: flex; flex-direction: column; justify-content: left; align-items: center; border-radius: 3px; color: white; width: 300px;">
                        <label style="white-space: nowrap; margin-right: 2vw; font-size: 1.0em;">TOTAL
                            GERAL</label>
                        <label style="white-space: nowrap; font-size: 3.0em;" id="total_geral"></label>
                    </div>

                </div>

                <div style="display: flex; flex-direction: column; gap: 10px; margin: 10px;">
                    <div style="display: flex; align-items: center; justify-content: right; margin: 5px; gap: 10px;"
                        onclick="window.location.href='inicial.html'">
                        <label style="color: white;">Voltar</label>
                        <img src="imagens/voltar.png" style="cursor: pointer; width: 30px;">
                    </div>

                    <div style="display: flex; align-items: center; justify-content: right; margin: 5px; gap: 10px;"
                        onclick="atualizar_precos()">
                        <label
                            style="display: flex; justify-content: center; color: white; align-items: center;">Atualizar</label>
                        <img src="imagens/atualizar_2.png" style="width: 30px; cursor: pointer;">
                    </div>
                </div>

            </div>

            <div id="quieto"
                style="display: flex; justify-content: center; align-items: center; width: 100%; padding: 5vw;">
            </div>

            <br>

            <div id="venda" style="display: none; width: 100%;">
                <div style="display: flex; justify-content: right; width: 100%;">
                    <div
                        style="width: max-content; display: flex; align-items: center; justify-content: center; background-color: #222222bc; padding: 5px; border-top-right-radius: 10px; border-top-left-radius: 10px; margin-right: 10px;">
                        <label class="novo_titulo" style="margin-right: 3vw;">Total de Venda</label>
                        <label class="novo_titulo" id="total_venda">R$ -- </label>
                    </div>
                </div>
                <table id="cabecalho_venda" style="width: 100%;">
                    <thead id="thead_venda"></thead>
                    <tbody id="linhas_venda"></tbody>
                </table>
            </div>

            <br>

            <div id="serviço" style="display: none; width: 100%;">
                <div style="display: flex; justify-content: right; width: 100%;">
                    <div
                        style="width: max-content; display: flex; align-items: center; justify-content: center; background-color: #222222bc; padding: 5px; border-top-right-radius: 10px; border-top-left-radius: 10px; margin-right: 10px;">
                        <label class="novo_titulo" style="margin-right: 3vw;">Total de Serviço</label>
                        <label class="novo_titulo" id="total_serviço">R$ -- </label>
                    </div>
                </div>
                <table id="cabecalho_serviço" style="width: 100%;">
                    <thead id="thead_serviço"></thead>
                    <tbody id="linhas_serviço"></tbody>
                </table>
            </div>


            <div style="display: flex; justify-content: center; width: 100%; margin-top: 30px; gap: 10px;">

                <label class="menu_top_geral" onclick="mudar_tabela_pesquisa(undefined)">Todos</label>
                <label class="menu_top_serviço" onclick="mudar_tabela_pesquisa('SERVIÇO')">Serviço</label>
                <label class="menu_top_venda" onclick="mudar_tabela_pesquisa('VENDA')">Venda</label>

                <div style="position: relative; width: max-content; margin: 5px;">
                    <input id="campo-pesquisa" style="background-color: #222; color: white;"
                        placeholder="Digite algum termo aqui...">
                    <img src="imagens/pesquisar.png"
                        style="position: absolute; left: 5px; top: 50%; transform: translateY(-50%); width: 15px;">
                </div>

            </div>
            <div id="penumbra">

                <div id="tabela_itens"></div>
            </div>

        </div>
    </div>

    <div id="orcamento_livre"></div>

    <div id="overlay"></div>

</body>
<script src="modalidade_livre.js"></script>
<script src="open_menus.js"></script>
<script src="dados_clientes.js"></script>
<script src="upload_imagens.js"></script>
<script src="adicionar.js"></script>

</html>